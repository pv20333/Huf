{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tiago\\\\OneDrive\\\\Ambiente de Trabalho\\\\yoda-admin-template-react\\\\yoda-admin-template-react\\\\starter-kit\\\\starter-kit\\\\src\\\\view\\\\pages\\\\testes2\\\\escolher-tabela.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Select, Table, Button, Input } from \"antd\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Option\n} = Select;\nfunction EscolherTabela() {\n  _s();\n  const [tabelas, setTabelas] = useState([]);\n  const [selectedTables, setSelectedTables] = useState([]);\n  const [nomeFormulario, setNomeFormulario] = useState(\"\");\n  useEffect(() => {\n    axios.get(\"http://localhost:8080/api/escolhertabela/tabelas-geral\").then(res => {\n      setTabelas(res.data);\n    }).catch(error => {\n      console.error(\"Erro ao obter tabelas\", error);\n    });\n  }, []);\n  const handleTabelaChange = (index, id) => {\n    axios.get(`http://localhost:8080/api/escolhertabela/colunas/${id}`).then(res => {\n      //console.log(res.data)\n\n      const newTables = [...selectedTables];\n      newTables[index] = {\n        ...res.data,\n        colunas: res.data.colunas.map(coluna => ({\n          title: coluna,\n          dataIndex: coluna\n        }))\n      };\n      setSelectedTables(newTables);\n    }).catch(error => {\n      console.error(\"Erro ao obter colunas\", error);\n    });\n  };\n  const handleAddTable = () => {\n    setSelectedTables([...selectedTables, {}]);\n  };\n  const handleNomeFormularioChange = event => {\n    setNomeFormulario(event.target.value);\n  };\n  const handleGuardar = () => {\n    axios.post(`http://localhost:8080/api/escolhertabela/guardar`, {\n      nomeFormulario,\n      tabelas: selectedTables.map(table => table.n_TabelaGeral)\n    }).then(res => {\n      console.log(res);\n    }).catch(error => {\n      console.error(\"Erro ao guardar\", error);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Escolha uma Tabela\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Input, {\n      placeholder: \"Nome do Formul\\xE1rio\",\n      value: nomeFormulario,\n      onChange: handleNomeFormularioChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), selectedTables.map((table, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Select, {\n        style: {\n          width: 200\n        },\n        onChange: value => handleTabelaChange(index, value),\n        children: tabelas.map(tabela => /*#__PURE__*/_jsxDEV(Option, {\n          value: tabela.n_TabelaGeral,\n          children: tabela.designacao\n        }, tabela.n_TabelaGeral, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Table, {\n        columns: table.colunas,\n        dataSource: Array.from({\n          length: table.numero_linhas\n        }, (_, i) => ({\n          key: i\n        })),\n        pagination: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: handleAddTable,\n      children: \"Adicionar Tabela\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: handleGuardar,\n      children: \"Guardar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n_s(EscolherTabela, \"Pa09BU/p1zYw5h7ubRDeIEHr7gg=\");\n_c = EscolherTabela;\nexport default EscolherTabela;\nvar _c;\n$RefreshReg$(_c, \"EscolherTabela\");","map":{"version":3,"names":["React","useState","useEffect","axios","Select","Table","Button","Input","jsxDEV","_jsxDEV","Option","EscolherTabela","_s","tabelas","setTabelas","selectedTables","setSelectedTables","nomeFormulario","setNomeFormulario","get","then","res","data","catch","error","console","handleTabelaChange","index","id","newTables","colunas","map","coluna","title","dataIndex","handleAddTable","handleNomeFormularioChange","event","target","value","handleGuardar","post","table","n_TabelaGeral","log","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","onChange","style","width","tabela","designacao","columns","dataSource","Array","from","length","numero_linhas","_","i","key","pagination","onClick","_c","$RefreshReg$"],"sources":["C:/Users/tiago/OneDrive/Ambiente de Trabalho/yoda-admin-template-react/yoda-admin-template-react/starter-kit/starter-kit/src/view/pages/testes2/escolher-tabela.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Select, Table, Button, Input } from \"antd\";\r\n\r\nconst { Option } = Select;\r\n\r\nfunction EscolherTabela() {\r\n  const [tabelas, setTabelas] = useState([]);\r\n  const [selectedTables, setSelectedTables] = useState([]);\r\n  const [nomeFormulario, setNomeFormulario] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"http://localhost:8080/api/escolhertabela/tabelas-geral\")\r\n      .then((res) => {\r\n        setTabelas(res.data);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Erro ao obter tabelas\", error);\r\n      });\r\n  }, []);\r\n\r\n  const handleTabelaChange = (index, id) => {\r\n    axios\r\n      .get(`http://localhost:8080/api/escolhertabela/colunas/${id}`)\r\n      .then((res) => {\r\n        //console.log(res.data)\r\n\r\n        const newTables = [...selectedTables];\r\n        newTables[index] = {\r\n          ...res.data,\r\n          colunas: res.data.colunas.map((coluna) => ({\r\n            title: coluna,\r\n            dataIndex: coluna\r\n          })),\r\n        };\r\n        setSelectedTables(newTables);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Erro ao obter colunas\", error);\r\n      });\r\n  };\r\n\r\n\r\n  const handleAddTable = () => {\r\n    setSelectedTables([...selectedTables, {}]);\r\n  };\r\n\r\n  const handleNomeFormularioChange = (event) => {\r\n    setNomeFormulario(event.target.value);\r\n  };\r\n\r\n  const handleGuardar = () => {\r\n    axios\r\n      .post(`http://localhost:8080/api/escolhertabela/guardar`, {\r\n        nomeFormulario,\r\n        tabelas: selectedTables.map((table) => table.n_TabelaGeral),\r\n      })\r\n      .then((res) => {\r\n        console.log(res);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Erro ao guardar\", error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Escolha uma Tabela</h1>\r\n      <Input\r\n        placeholder=\"Nome do FormulÃ¡rio\"\r\n        value={nomeFormulario}\r\n        onChange={handleNomeFormularioChange}\r\n      />\r\n      {selectedTables.map((table, index) => (\r\n        <div key={index}>\r\n          <Select\r\n            style={{ width: 200 }}\r\n            onChange={(value) => handleTabelaChange(index, value)}\r\n          >\r\n            {tabelas.map((tabela) => (\r\n              <Option key={tabela.n_TabelaGeral} value={tabela.n_TabelaGeral}>\r\n                {tabela.designacao}\r\n              </Option>\r\n            ))}\r\n          </Select>\r\n          <Table\r\n            columns={table.colunas}\r\n            dataSource={Array.from({ length: table.numero_linhas }, (_, i) => ({\r\n              key: i,\r\n              \r\n            }))}\r\n            pagination={false}\r\n          />\r\n        </div>\r\n      ))}\r\n      <Button onClick={handleAddTable}>Adicionar Tabela</Button>\r\n      <Button onClick={handleGuardar}>Guardar</Button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EscolherTabela;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}