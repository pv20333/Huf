{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tiago\\\\OneDrive\\\\Ambiente de Trabalho\\\\yoda-admin-template-react\\\\yoda-admin-template-react\\\\starter-kit\\\\starter-kit\\\\src\\\\view\\\\pages\\\\testes2\\\\escolher-tabela.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Select, Table, Button, Input } from \"antd\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Option\n} = Select;\nfunction EscolherTabela() {\n  _s();\n  const [tabelas, setTabelas] = useState([]);\n  const [selectedTables, setSelectedTables] = useState([]);\n  const [nomeFormulario, setNomeFormulario] = useState(\"\");\n  useEffect(() => {\n    axios.get(\"http://localhost:8080/api/escolhertabela/tabelas-geral\").then(res => {\n      setTabelas(res.data);\n    }).catch(error => {\n      console.error(\"Erro ao obter tabelas\", error);\n    });\n    axios.get(\"http://localhost:8080/api/escolhertabela/formularios\").then(res => {\n      setFormularios(res.data);\n    }).catch(error => {\n      console.error(\"Erro ao obter formulários\", error);\n    });\n  }, []);\n  const handleTabelaChange = (index, id) => {\n    console.log('handleTabelaChange', {\n      index,\n      id\n    });\n    axios.get(`http://localhost:8080/api/escolhertabela/colunas/${id}`).then(res => {\n      const newTables = [...selectedTables];\n      newTables[index] = {\n        ...res.data,\n        id,\n        colunas: res.data.colunas.map(coluna => ({\n          title: coluna.TituloColunas,\n          dataIndex: coluna.TituloColunas\n        }))\n      };\n      setSelectedTables(newTables);\n    }).catch(error => {\n      console.error(\"Erro ao obter colunas\", error);\n    });\n  };\n  const handleAddTable = () => {\n    setSelectedTables([...selectedTables, {}]);\n  };\n  const handleNomeFormularioChange = event => {\n    setNomeFormulario(event.target.value);\n  };\n  const handleGuardar = () => {\n    console.log('handleGuardar', {\n      nomeFormulario,\n      tabelas: selectedTables.map(table => table.n_TabelaGeral)\n    });\n    axios.post(`http://localhost:8080/api/escolhertabela/guardar`, {\n      nomeFormulario,\n      tabelas: selectedTables.map(table => table.id)\n    }).then(res => {\n      console.log(res);\n    }).catch(error => {\n      console.error(\"Erro ao guardar\", error);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Escolha uma Tabela\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Input, {\n      placeholder: \"Nome do Formul\\xE1rio\",\n      value: nomeFormulario,\n      onChange: handleNomeFormularioChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), selectedTables.map((table, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Select, {\n        style: {\n          width: 200\n        },\n        onChange: value => handleFormularioChange(value),\n        children: formularios.map(formulario => /*#__PURE__*/_jsxDEV(Option, {\n          value: formulario.n_Formularios,\n          children: formulario.designacao\n        }, formulario.n_Formularios, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Table, {\n        columns: table.colunas,\n        dataSource: Array.from({\n          length: table.numero_linhas\n        }, (_, i) => ({\n          key: i\n        })),\n        pagination: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: handleAddTable,\n      children: \"Adicionar Tabela\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: handleGuardar,\n      children: \"Guardar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: handleCriar,\n      children: \"Criar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: handleEditar,\n      children: \"Editar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n}\n_s(EscolherTabela, \"Pa09BU/p1zYw5h7ubRDeIEHr7gg=\");\n_c = EscolherTabela;\nexport default EscolherTabela;\nvar _c;\n$RefreshReg$(_c, \"EscolherTabela\");","map":{"version":3,"names":["React","useState","useEffect","axios","Select","Table","Button","Input","jsxDEV","_jsxDEV","Option","EscolherTabela","_s","tabelas","setTabelas","selectedTables","setSelectedTables","nomeFormulario","setNomeFormulario","get","then","res","data","catch","error","console","setFormularios","handleTabelaChange","index","id","log","newTables","colunas","map","coluna","title","TituloColunas","dataIndex","handleAddTable","handleNomeFormularioChange","event","target","value","handleGuardar","table","n_TabelaGeral","post","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","onChange","style","width","handleFormularioChange","formularios","formulario","n_Formularios","designacao","columns","dataSource","Array","from","length","numero_linhas","_","i","key","pagination","onClick","handleCriar","handleEditar","_c","$RefreshReg$"],"sources":["C:/Users/tiago/OneDrive/Ambiente de Trabalho/yoda-admin-template-react/yoda-admin-template-react/starter-kit/starter-kit/src/view/pages/testes2/escolher-tabela.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Select, Table, Button, Input } from \"antd\";\r\n\r\nconst { Option } = Select;\r\n\r\nfunction EscolherTabela() {\r\n  const [tabelas, setTabelas] = useState([]);\r\n  const [selectedTables, setSelectedTables] = useState([]);\r\n  const [nomeFormulario, setNomeFormulario] = useState(\"\");\r\n  \r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"http://localhost:8080/api/escolhertabela/tabelas-geral\")\r\n      .then((res) => {\r\n        setTabelas(res.data);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Erro ao obter tabelas\", error);\r\n      });\r\n\r\n      axios\r\n      .get(\"http://localhost:8080/api/escolhertabela/formularios\")\r\n      .then((res) => {\r\n        setFormularios(res.data);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Erro ao obter formulários\", error);\r\n      });\r\n  }, []);\r\n\r\n \r\n\r\n  const handleTabelaChange = (index, id) => {\r\n    console.log('handleTabelaChange', { index, id });\r\n    axios\r\n      .get(`http://localhost:8080/api/escolhertabela/colunas/${id}`)\r\n      .then((res) => {\r\n        const newTables = [...selectedTables];\r\n        newTables[index] = {\r\n          ...res.data,\r\n          id,\r\n          colunas: res.data.colunas.map((coluna) => ({\r\n            title: coluna.TituloColunas,\r\n            dataIndex: coluna.TituloColunas,\r\n          })),\r\n        };\r\n        setSelectedTables(newTables);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Erro ao obter colunas\", error);\r\n      });\r\n  };\r\n\r\n  const handleAddTable = () => {\r\n    setSelectedTables([...selectedTables, {}]);\r\n  };\r\n\r\n  const handleNomeFormularioChange = (event) => {\r\n    setNomeFormulario(event.target.value);\r\n  };\r\n\r\n  const handleGuardar = () => {\r\n    console.log('handleGuardar', { nomeFormulario, tabelas: selectedTables.map((table) => table.n_TabelaGeral) });\r\n    axios\r\n      .post(`http://localhost:8080/api/escolhertabela/guardar`, {\r\n        nomeFormulario,\r\n        tabelas: selectedTables.map((table) => table.id),\r\n      })\r\n      .then((res) => {\r\n        console.log(res);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Erro ao guardar\", error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Escolha uma Tabela</h1>\r\n      <Input\r\n        placeholder=\"Nome do Formulário\"\r\n        value={nomeFormulario}\r\n        onChange={handleNomeFormularioChange}\r\n      />\r\n      {selectedTables.map((table, index) => (\r\n        <div key={index}>\r\n          <Select\r\n        style={{ width: 200 }}\r\n        onChange={(value) => handleFormularioChange(value)}\r\n      >\r\n        {formularios.map((formulario) => (\r\n          <Option key={formulario.n_Formularios} value={formulario.n_Formularios}>\r\n            {formulario.designacao}\r\n          </Option>\r\n        ))}\r\n      </Select>\r\n          <Table\r\n            columns={table.colunas}\r\n            dataSource={Array.from({ length: table.numero_linhas }, (_, i) => ({\r\n              key: i,\r\n            }))}\r\n            pagination={false}\r\n          />\r\n        </div>\r\n      ))}\r\n      <Button onClick={handleAddTable}>Adicionar Tabela</Button>\r\n      <Button onClick={handleGuardar}>Guardar</Button>\r\n      <Button onClick={handleCriar}>Criar</Button>\r\n      <Button onClick={handleEditar}>Editar</Button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EscolherTabela;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,MAAM,EAAEC,KAAK,EAAEC,MAAM,EAAEC,KAAK,QAAQ,MAAM;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEpD,MAAM;EAAEC;AAAO,CAAC,GAAGN,MAAM;AAEzB,SAASO,cAAcA,CAAA,EAAG;EAAAC,EAAA;EACxB,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACc,cAAc,EAAEC,iBAAiB,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAACgB,cAAc,EAAEC,iBAAiB,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EAGxDC,SAAS,CAAC,MAAM;IACdC,KAAK,CACFgB,GAAG,CAAC,wDAAwD,CAAC,CAC7DC,IAAI,CAAEC,GAAG,IAAK;MACbP,UAAU,CAACO,GAAG,CAACC,IAAI,CAAC;IACtB,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAK;MAChBC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC/C,CAAC,CAAC;IAEFrB,KAAK,CACJgB,GAAG,CAAC,sDAAsD,CAAC,CAC3DC,IAAI,CAAEC,GAAG,IAAK;MACbK,cAAc,CAACL,GAAG,CAACC,IAAI,CAAC;IAC1B,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAK;MAChBC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;IACnD,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EAIN,MAAMG,kBAAkB,GAAGA,CAACC,KAAK,EAAEC,EAAE,KAAK;IACxCJ,OAAO,CAACK,GAAG,CAAC,oBAAoB,EAAE;MAAEF,KAAK;MAAEC;IAAG,CAAC,CAAC;IAChD1B,KAAK,CACFgB,GAAG,CAAE,oDAAmDU,EAAG,EAAC,CAAC,CAC7DT,IAAI,CAAEC,GAAG,IAAK;MACb,MAAMU,SAAS,GAAG,CAAC,GAAGhB,cAAc,CAAC;MACrCgB,SAAS,CAACH,KAAK,CAAC,GAAG;QACjB,GAAGP,GAAG,CAACC,IAAI;QACXO,EAAE;QACFG,OAAO,EAAEX,GAAG,CAACC,IAAI,CAACU,OAAO,CAACC,GAAG,CAAEC,MAAM,KAAM;UACzCC,KAAK,EAAED,MAAM,CAACE,aAAa;UAC3BC,SAAS,EAAEH,MAAM,CAACE;QACpB,CAAC,CAAC;MACJ,CAAC;MACDpB,iBAAiB,CAACe,SAAS,CAAC;IAC9B,CAAC,CAAC,CACDR,KAAK,CAAEC,KAAK,IAAK;MAChBC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC/C,CAAC,CAAC;EACN,CAAC;EAED,MAAMc,cAAc,GAAGA,CAAA,KAAM;IAC3BtB,iBAAiB,CAAC,CAAC,GAAGD,cAAc,EAAE,CAAC,CAAC,CAAC,CAAC;EAC5C,CAAC;EAED,MAAMwB,0BAA0B,GAAIC,KAAK,IAAK;IAC5CtB,iBAAiB,CAACsB,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC;EACvC,CAAC;EAED,MAAMC,aAAa,GAAGA,CAAA,KAAM;IAC1BlB,OAAO,CAACK,GAAG,CAAC,eAAe,EAAE;MAAEb,cAAc;MAAEJ,OAAO,EAAEE,cAAc,CAACkB,GAAG,CAAEW,KAAK,IAAKA,KAAK,CAACC,aAAa;IAAE,CAAC,CAAC;IAC7G1C,KAAK,CACF2C,IAAI,CAAE,kDAAiD,EAAE;MACxD7B,cAAc;MACdJ,OAAO,EAAEE,cAAc,CAACkB,GAAG,CAAEW,KAAK,IAAKA,KAAK,CAACf,EAAE;IACjD,CAAC,CAAC,CACDT,IAAI,CAAEC,GAAG,IAAK;MACbI,OAAO,CAACK,GAAG,CAACT,GAAG,CAAC;IAClB,CAAC,CAAC,CACDE,KAAK,CAAEC,KAAK,IAAK;MAChBC,OAAO,CAACD,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;IACzC,CAAC,CAAC;EACN,CAAC;EAED,oBACEf,OAAA;IAAAsC,QAAA,gBACEtC,OAAA;MAAAsC,QAAA,EAAI;IAAkB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAK,eAC3B1C,OAAA,CAACF,KAAK;MACJ6C,WAAW,EAAC,uBAAoB;MAChCV,KAAK,EAAEzB,cAAe;MACtBoC,QAAQ,EAAEd;IAA2B;MAAAS,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACrC,EACDpC,cAAc,CAACkB,GAAG,CAAC,CAACW,KAAK,EAAEhB,KAAK,kBAC/BnB,OAAA;MAAAsC,QAAA,gBACEtC,OAAA,CAACL,MAAM;QACTkD,KAAK,EAAE;UAAEC,KAAK,EAAE;QAAI,CAAE;QACtBF,QAAQ,EAAGX,KAAK,IAAKc,sBAAsB,CAACd,KAAK,CAAE;QAAAK,QAAA,EAElDU,WAAW,CAACxB,GAAG,CAAEyB,UAAU,iBAC1BjD,OAAA,CAACC,MAAM;UAAgCgC,KAAK,EAAEgB,UAAU,CAACC,aAAc;UAAAZ,QAAA,EACpEW,UAAU,CAACE;QAAU,GADXF,UAAU,CAACC,aAAa;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAGtC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QACK,eACL1C,OAAA,CAACJ,KAAK;QACJwD,OAAO,EAAEjB,KAAK,CAACZ,OAAQ;QACvB8B,UAAU,EAAEC,KAAK,CAACC,IAAI,CAAC;UAAEC,MAAM,EAAErB,KAAK,CAACsB;QAAc,CAAC,EAAE,CAACC,CAAC,EAAEC,CAAC,MAAM;UACjEC,GAAG,EAAED;QACP,CAAC,CAAC,CAAE;QACJE,UAAU,EAAE;MAAM;QAAAtB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAClB;IAAA,GAjBMvB,KAAK;MAAAoB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAmBhB,CAAC,eACF1C,OAAA,CAACH,MAAM;MAACiE,OAAO,EAAEjC,cAAe;MAAAS,QAAA,EAAC;IAAgB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAS,eAC1D1C,OAAA,CAACH,MAAM;MAACiE,OAAO,EAAE5B,aAAc;MAAAI,QAAA,EAAC;IAAO;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAS,eAChD1C,OAAA,CAACH,MAAM;MAACiE,OAAO,EAAEC,WAAY;MAAAzB,QAAA,EAAC;IAAK;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAS,eAC5C1C,OAAA,CAACH,MAAM;MAACiE,OAAO,EAAEE,YAAa;MAAA1B,QAAA,EAAC;IAAM;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAS;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QAC1C;AAEV;AAACvC,EAAA,CA3GQD,cAAc;AAAA+D,EAAA,GAAd/D,cAAc;AA6GvB,eAAeA,cAAc;AAAC,IAAA+D,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module"}