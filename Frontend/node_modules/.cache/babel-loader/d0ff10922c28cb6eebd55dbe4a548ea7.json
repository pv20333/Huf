{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tiago\\\\OneDrive\\\\Ambiente de Trabalho\\\\yoda-admin-template-react\\\\yoda-admin-template-react\\\\starter-kit\\\\starter-kit\\\\src\\\\view\\\\pages\\\\testes2\\\\escolher-tabela.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Select, Table, Button, Input } from \"antd\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Option\n} = Select;\nfunction EscolherTabela() {\n  _s();\n  const [tabelas, setTabelas] = useState([]);\n  const [selectedTables, setSelectedTables] = useState([]);\n  const [nomeFormulario, setNomeFormulario] = useState(\"\");\n  useEffect(() => {\n    axios.get(\"http://localhost:8080/api/escolhertabela/tabelas-geral\").then(res => {\n      setTabelas(res.data);\n    }).catch(error => {\n      console.error(\"Erro ao obter tabelas\", error);\n    });\n  }, []);\n  const handleTabelaChange = (index, id) => {\n    axios.get(`http://localhost:8080/api/escolhertabela/colunas/${id}`).then(res => {\n      const newTables = [...selectedTables];\n      newTables[index] = res.data;\n      setSelectedTables(newTables);\n    }).catch(error => {\n      console.error(\"Erro ao obter colunas\", error);\n    });\n  };\n  const handleAddTable = () => {\n    setSelectedTables([...selectedTables, {}]);\n  };\n  const handleNomeFormularioChange = event => {\n    setNomeFormulario(event.target.value);\n  };\n  const handleGuardar = () => {\n    axios.post(`http://localhost:8080/api/escolhertabela/guardar`, {\n      nomeFormulario,\n      tabelas: selectedTables.map(table => table.n_TabelaGeral)\n    }).then(res => {\n      console.log(res);\n    }).catch(error => {\n      console.error(\"Erro ao guardar\", error);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Escolha uma Tabela\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Input, {\n      placeholder: \"Nome do Formul\\xE1rio\",\n      value: nomeFormulario,\n      onChange: handleNomeFormularioChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), selectedTables.map((table, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Select, {\n        style: {\n          width: 200\n        },\n        onChange: value => handleTabelaChange(index, value),\n        children: tabelas.map(tabela => /*#__PURE__*/_jsxDEV(Option, {\n          value: tabela.n_TabelaGeral,\n          children: tabela.designacao\n        }, tabela.n_TabelaGeral, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Table, {\n        columns: table.colunas,\n        dataSource: table.numero_linhas\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: handleAddTable,\n      children: \"Adicionar Tabela\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: handleGuardar,\n      children: \"Guardar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n}\n_s(EscolherTabela, \"Pa09BU/p1zYw5h7ubRDeIEHr7gg=\");\n_c = EscolherTabela;\nexport default EscolherTabela;\nvar _c;\n$RefreshReg$(_c, \"EscolherTabela\");","map":{"version":3,"names":["React","useState","useEffect","axios","Select","Table","Button","Input","jsxDEV","_jsxDEV","Option","EscolherTabela","_s","tabelas","setTabelas","selectedTables","setSelectedTables","nomeFormulario","setNomeFormulario","get","then","res","data","catch","error","console","handleTabelaChange","index","id","newTables","handleAddTable","handleNomeFormularioChange","event","target","value","handleGuardar","post","map","table","n_TabelaGeral","log","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","onChange","style","width","tabela","designacao","columns","colunas","dataSource","numero_linhas","onClick","_c","$RefreshReg$"],"sources":["C:/Users/tiago/OneDrive/Ambiente de Trabalho/yoda-admin-template-react/yoda-admin-template-react/starter-kit/starter-kit/src/view/pages/testes2/escolher-tabela.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Select, Table, Button, Input } from \"antd\";\r\n\r\nconst { Option } = Select;\r\n\r\nfunction EscolherTabela() {\r\n  const [tabelas, setTabelas] = useState([]);\r\n  const [selectedTables, setSelectedTables] = useState([]);\r\n  const [nomeFormulario, setNomeFormulario] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"http://localhost:8080/api/escolhertabela/tabelas-geral\")\r\n      .then((res) => {\r\n        setTabelas(res.data);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Erro ao obter tabelas\", error);\r\n      });\r\n  }, []);\r\n\r\n  const handleTabelaChange = (index, id) => {\r\n    axios\r\n      .get(`http://localhost:8080/api/escolhertabela/colunas/${id}`)\r\n      .then((res) => {\r\n        const newTables = [...selectedTables];\r\n        newTables[index] = res.data;\r\n        setSelectedTables(newTables);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Erro ao obter colunas\", error);\r\n      });\r\n  };\r\n\r\n  const handleAddTable = () => {\r\n    setSelectedTables([...selectedTables, {}]);\r\n  };\r\n\r\n  const handleNomeFormularioChange = (event) => {\r\n    setNomeFormulario(event.target.value);\r\n  };\r\n\r\n  const handleGuardar = () => {\r\n    axios\r\n      .post(`http://localhost:8080/api/escolhertabela/guardar`, {\r\n        nomeFormulario,\r\n        tabelas: selectedTables.map((table) => table.n_TabelaGeral),\r\n      })\r\n      .then((res) => {\r\n        console.log(res);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Erro ao guardar\", error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Escolha uma Tabela</h1>\r\n      <Input\r\n        placeholder=\"Nome do FormulÃ¡rio\"\r\n        value={nomeFormulario}\r\n        onChange={handleNomeFormularioChange}\r\n      />\r\n      {selectedTables.map((table, index) => (\r\n        <div key={index}>\r\n          <Select\r\n            style={{ width: 200 }}\r\n            onChange={(value) => handleTabelaChange(index, value)}\r\n          >\r\n            {tabelas.map((tabela) => (\r\n              <Option key={tabela.n_TabelaGeral} value={tabela.n_TabelaGeral}>\r\n                {tabela.designacao}\r\n              </Option>\r\n            ))}\r\n          </Select>\r\n          <Table columns={table.colunas} dataSource={table.numero_linhas} />\r\n        </div>\r\n      ))}\r\n      <Button onClick={handleAddTable}>Adicionar Tabela</Button>\r\n      <Button onClick={handleGuardar}>Guardar</Button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EscolherTabela;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}