{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar tslib = require('tslib');\nvar index = require('../resize/index.cjs.js');\nvar info = require('./info.cjs.js');\nvar onScrollHandler = require('./on-scroll-handler.cjs.js');\nconst scrollListeners = new WeakMap();\nconst resizeListeners = new WeakMap();\nconst onScrollHandlers = new WeakMap();\nconst getEventTarget = element => element === document.documentElement ? window : element;\nfunction scroll(onScroll) {\n  let _a = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var {\n      container = document.documentElement\n    } = _a,\n    options = tslib.__rest(_a, [\"container\"]);\n  let containerHandlers = onScrollHandlers.get(container);\n  /**\n   * Get the onScroll handlers for this container.\n   * If one isn't found, create a new one.\n   */\n  if (!containerHandlers) {\n    containerHandlers = new Set();\n    onScrollHandlers.set(container, containerHandlers);\n  }\n  /**\n   * Create a new onScroll handler for the provided callback.\n   */\n  const info$1 = info.createScrollInfo();\n  const containerHandler = onScrollHandler.createOnScrollHandler(container, onScroll, info$1, options);\n  containerHandlers.add(containerHandler);\n  /**\n   * Check if there's a scroll event listener for this container.\n   * If not, create one.\n   */\n  if (!scrollListeners.has(container)) {\n    const listener = () => {\n      const time = performance.now();\n      for (const handler of containerHandlers) handler.measure();\n      for (const handler of containerHandlers) handler.update(time);\n      for (const handler of containerHandlers) handler.notify();\n    };\n    scrollListeners.set(container, listener);\n    const target = getEventTarget(container);\n    window.addEventListener(\"resize\", listener, {\n      passive: true\n    });\n    if (container !== document.documentElement) {\n      resizeListeners.set(container, index.resize(container, listener));\n    }\n    target.addEventListener(\"scroll\", listener, {\n      passive: true\n    });\n  }\n  const listener = scrollListeners.get(container);\n  const onLoadProcesss = requestAnimationFrame(listener);\n  return () => {\n    var _a;\n    if (typeof onScroll !== \"function\") onScroll.stop();\n    cancelAnimationFrame(onLoadProcesss);\n    /**\n     * Check if we even have any handlers for this container.\n     */\n    const containerHandlers = onScrollHandlers.get(container);\n    if (!containerHandlers) return;\n    containerHandlers.delete(containerHandler);\n    if (containerHandlers.size) return;\n    /**\n     * If no more handlers, remove the scroll listener too.\n     */\n    const listener = scrollListeners.get(container);\n    scrollListeners.delete(container);\n    if (listener) {\n      getEventTarget(container).removeEventListener(\"scroll\", listener);\n      (_a = resizeListeners.get(container)) === null || _a === void 0 ? void 0 : _a();\n      window.removeEventListener(\"resize\", listener);\n    }\n  };\n}\nexports.scroll = scroll;","map":{"version":3,"names":["Object","defineProperty","exports","value","tslib","require","index","info","onScrollHandler","scrollListeners","WeakMap","resizeListeners","onScrollHandlers","getEventTarget","element","document","documentElement","window","scroll","onScroll","_a","arguments","length","undefined","container","options","__rest","containerHandlers","get","Set","set","info$1","createScrollInfo","containerHandler","createOnScrollHandler","add","has","listener","time","performance","now","handler","measure","update","notify","target","addEventListener","passive","resize","onLoadProcesss","requestAnimationFrame","stop","cancelAnimationFrame","delete","size","removeEventListener"],"sources":["C:/Users/tiago/OneDrive/Documentos/GitHub/Huf/Frontend/node_modules/@motionone/dom/dist/gestures/scroll/index.cjs.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar tslib = require('tslib');\nvar index = require('../resize/index.cjs.js');\nvar info = require('./info.cjs.js');\nvar onScrollHandler = require('./on-scroll-handler.cjs.js');\n\nconst scrollListeners = new WeakMap();\nconst resizeListeners = new WeakMap();\nconst onScrollHandlers = new WeakMap();\nconst getEventTarget = (element) => element === document.documentElement ? window : element;\nfunction scroll(onScroll, _a = {}) {\n    var { container = document.documentElement } = _a, options = tslib.__rest(_a, [\"container\"]);\n    let containerHandlers = onScrollHandlers.get(container);\n    /**\n     * Get the onScroll handlers for this container.\n     * If one isn't found, create a new one.\n     */\n    if (!containerHandlers) {\n        containerHandlers = new Set();\n        onScrollHandlers.set(container, containerHandlers);\n    }\n    /**\n     * Create a new onScroll handler for the provided callback.\n     */\n    const info$1 = info.createScrollInfo();\n    const containerHandler = onScrollHandler.createOnScrollHandler(container, onScroll, info$1, options);\n    containerHandlers.add(containerHandler);\n    /**\n     * Check if there's a scroll event listener for this container.\n     * If not, create one.\n     */\n    if (!scrollListeners.has(container)) {\n        const listener = () => {\n            const time = performance.now();\n            for (const handler of containerHandlers)\n                handler.measure();\n            for (const handler of containerHandlers)\n                handler.update(time);\n            for (const handler of containerHandlers)\n                handler.notify();\n        };\n        scrollListeners.set(container, listener);\n        const target = getEventTarget(container);\n        window.addEventListener(\"resize\", listener, { passive: true });\n        if (container !== document.documentElement) {\n            resizeListeners.set(container, index.resize(container, listener));\n        }\n        target.addEventListener(\"scroll\", listener, { passive: true });\n    }\n    const listener = scrollListeners.get(container);\n    const onLoadProcesss = requestAnimationFrame(listener);\n    return () => {\n        var _a;\n        if (typeof onScroll !== \"function\")\n            onScroll.stop();\n        cancelAnimationFrame(onLoadProcesss);\n        /**\n         * Check if we even have any handlers for this container.\n         */\n        const containerHandlers = onScrollHandlers.get(container);\n        if (!containerHandlers)\n            return;\n        containerHandlers.delete(containerHandler);\n        if (containerHandlers.size)\n            return;\n        /**\n         * If no more handlers, remove the scroll listener too.\n         */\n        const listener = scrollListeners.get(container);\n        scrollListeners.delete(container);\n        if (listener) {\n            getEventTarget(container).removeEventListener(\"scroll\", listener);\n            (_a = resizeListeners.get(container)) === null || _a === void 0 ? void 0 : _a();\n            window.removeEventListener(\"resize\", listener);\n        }\n    };\n}\n\nexports.scroll = scroll;\n"],"mappings":"AAAA,YAAY;;AAEZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAE7D,IAAIC,KAAK,GAAGC,OAAO,CAAC,OAAO,CAAC;AAC5B,IAAIC,KAAK,GAAGD,OAAO,CAAC,wBAAwB,CAAC;AAC7C,IAAIE,IAAI,GAAGF,OAAO,CAAC,eAAe,CAAC;AACnC,IAAIG,eAAe,GAAGH,OAAO,CAAC,4BAA4B,CAAC;AAE3D,MAAMI,eAAe,GAAG,IAAIC,OAAO,EAAE;AACrC,MAAMC,eAAe,GAAG,IAAID,OAAO,EAAE;AACrC,MAAME,gBAAgB,GAAG,IAAIF,OAAO,EAAE;AACtC,MAAMG,cAAc,GAAIC,OAAO,IAAKA,OAAO,KAAKC,QAAQ,CAACC,eAAe,GAAGC,MAAM,GAAGH,OAAO;AAC3F,SAASI,MAAMA,CAACC,QAAQ,EAAW;EAAA,IAATC,EAAE,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EAC7B,IAAI;MAAEG,SAAS,GAAGT,QAAQ,CAACC;IAAgB,CAAC,GAAGI,EAAE;IAAEK,OAAO,GAAGrB,KAAK,CAACsB,MAAM,CAACN,EAAE,EAAE,CAAC,WAAW,CAAC,CAAC;EAC5F,IAAIO,iBAAiB,GAAGf,gBAAgB,CAACgB,GAAG,CAACJ,SAAS,CAAC;EACvD;AACJ;AACA;AACA;EACI,IAAI,CAACG,iBAAiB,EAAE;IACpBA,iBAAiB,GAAG,IAAIE,GAAG,EAAE;IAC7BjB,gBAAgB,CAACkB,GAAG,CAACN,SAAS,EAAEG,iBAAiB,CAAC;EACtD;EACA;AACJ;AACA;EACI,MAAMI,MAAM,GAAGxB,IAAI,CAACyB,gBAAgB,EAAE;EACtC,MAAMC,gBAAgB,GAAGzB,eAAe,CAAC0B,qBAAqB,CAACV,SAAS,EAAEL,QAAQ,EAAEY,MAAM,EAAEN,OAAO,CAAC;EACpGE,iBAAiB,CAACQ,GAAG,CAACF,gBAAgB,CAAC;EACvC;AACJ;AACA;AACA;EACI,IAAI,CAACxB,eAAe,CAAC2B,GAAG,CAACZ,SAAS,CAAC,EAAE;IACjC,MAAMa,QAAQ,GAAGA,CAAA,KAAM;MACnB,MAAMC,IAAI,GAAGC,WAAW,CAACC,GAAG,EAAE;MAC9B,KAAK,MAAMC,OAAO,IAAId,iBAAiB,EACnCc,OAAO,CAACC,OAAO,EAAE;MACrB,KAAK,MAAMD,OAAO,IAAId,iBAAiB,EACnCc,OAAO,CAACE,MAAM,CAACL,IAAI,CAAC;MACxB,KAAK,MAAMG,OAAO,IAAId,iBAAiB,EACnCc,OAAO,CAACG,MAAM,EAAE;IACxB,CAAC;IACDnC,eAAe,CAACqB,GAAG,CAACN,SAAS,EAAEa,QAAQ,CAAC;IACxC,MAAMQ,MAAM,GAAGhC,cAAc,CAACW,SAAS,CAAC;IACxCP,MAAM,CAAC6B,gBAAgB,CAAC,QAAQ,EAAET,QAAQ,EAAE;MAAEU,OAAO,EAAE;IAAK,CAAC,CAAC;IAC9D,IAAIvB,SAAS,KAAKT,QAAQ,CAACC,eAAe,EAAE;MACxCL,eAAe,CAACmB,GAAG,CAACN,SAAS,EAAElB,KAAK,CAAC0C,MAAM,CAACxB,SAAS,EAAEa,QAAQ,CAAC,CAAC;IACrE;IACAQ,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAET,QAAQ,EAAE;MAAEU,OAAO,EAAE;IAAK,CAAC,CAAC;EAClE;EACA,MAAMV,QAAQ,GAAG5B,eAAe,CAACmB,GAAG,CAACJ,SAAS,CAAC;EAC/C,MAAMyB,cAAc,GAAGC,qBAAqB,CAACb,QAAQ,CAAC;EACtD,OAAO,MAAM;IACT,IAAIjB,EAAE;IACN,IAAI,OAAOD,QAAQ,KAAK,UAAU,EAC9BA,QAAQ,CAACgC,IAAI,EAAE;IACnBC,oBAAoB,CAACH,cAAc,CAAC;IACpC;AACR;AACA;IACQ,MAAMtB,iBAAiB,GAAGf,gBAAgB,CAACgB,GAAG,CAACJ,SAAS,CAAC;IACzD,IAAI,CAACG,iBAAiB,EAClB;IACJA,iBAAiB,CAAC0B,MAAM,CAACpB,gBAAgB,CAAC;IAC1C,IAAIN,iBAAiB,CAAC2B,IAAI,EACtB;IACJ;AACR;AACA;IACQ,MAAMjB,QAAQ,GAAG5B,eAAe,CAACmB,GAAG,CAACJ,SAAS,CAAC;IAC/Cf,eAAe,CAAC4C,MAAM,CAAC7B,SAAS,CAAC;IACjC,IAAIa,QAAQ,EAAE;MACVxB,cAAc,CAACW,SAAS,CAAC,CAAC+B,mBAAmB,CAAC,QAAQ,EAAElB,QAAQ,CAAC;MACjE,CAACjB,EAAE,GAAGT,eAAe,CAACiB,GAAG,CAACJ,SAAS,CAAC,MAAM,IAAI,IAAIJ,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,EAAE;MAC/EH,MAAM,CAACsC,mBAAmB,CAAC,QAAQ,EAAElB,QAAQ,CAAC;IAClD;EACJ,CAAC;AACL;AAEAnC,OAAO,CAACgB,MAAM,GAAGA,MAAM"},"metadata":{},"sourceType":"script"}